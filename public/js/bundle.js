"use strict";function _taggedTemplateLiteral(e,n){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_templateObject=_taggedTemplateLiteral(['\n        <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-icon-57x57.png">\n        <link rel="apple-touch-icon" sizes="60x60" href="/img/apple-icon-60x60.png">\n        <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-icon-72x72.png">\n        <link rel="apple-touch-icon" sizes="76x76" href="/img/apple-icon-76x76.png">\n        <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-icon-114x114.png">\n        <link rel="apple-touch-icon" sizes="120x120" href="/img/apple-icon-120x120.png">\n        <link rel="apple-touch-icon" sizes="144x144" href="/img/apple-icon-144x144.png">\n        <link rel="apple-touch-icon" sizes="152x152" href="/img/apple-icon-152x152.png">\n        <link rel="apple-touch-icon" sizes="180x180" href="/img/apple-icon-180x180.png">\n        <link rel="icon" type="image/png" sizes="192x192"  href="/img/android-icon-192x192.png">\n        <link rel="icon" type="image/png" sizes="32x32" href="/img/favicon-32x32.png">\n        <link rel="icon" type="image/png" sizes="16x16" href="/img/favicon-16x16.png">\n      '],['\n        <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-icon-57x57.png">\n        <link rel="apple-touch-icon" sizes="60x60" href="/img/apple-icon-60x60.png">\n        <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-icon-72x72.png">\n        <link rel="apple-touch-icon" sizes="76x76" href="/img/apple-icon-76x76.png">\n        <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-icon-114x114.png">\n        <link rel="apple-touch-icon" sizes="120x120" href="/img/apple-icon-120x120.png">\n        <link rel="apple-touch-icon" sizes="144x144" href="/img/apple-icon-144x144.png">\n        <link rel="apple-touch-icon" sizes="152x152" href="/img/apple-icon-152x152.png">\n        <link rel="apple-touch-icon" sizes="180x180" href="/img/apple-icon-180x180.png">\n        <link rel="icon" type="image/png" sizes="192x192"  href="/img/android-icon-192x192.png">\n        <link rel="icon" type="image/png" sizes="32x32" href="/img/favicon-32x32.png">\n        <link rel="icon" type="image/png" sizes="16x16" href="/img/favicon-16x16.png">\n      ']),_templateObject2=_taggedTemplateLiteral(["",""],["",""]),_templateObject3=_taggedTemplateLiteral(["\n<h1>About this site</h1>\n<p>\n  Hacker News clones are the new TodoMVC.\n  <a href=\"https://svelte-hn.now.sh/\">Svelte</a> has one,\n  and most you can see here has been forked from it,\n  <a href='https://vue-hn.now.sh'>Vue</a> has one,\n  <a href='https://next-news.now.sh'>Next</a> has one,\n  <a href='https://react-hn.appspot.com'>React</a> and\n  <a href='https://preact-hn.appspot.com'>Preact</a> have theirs.\n  And now, <strong>viperHTML</strong> has one.\n</p>\n<p>\n  <a href=\"https://github.com/WebReflection/viperHTML\">viperHTML</a> is the isomorphic version of <a href=\"https://github.com/WebReflection/hyperHTML\">hyperHTML</a>,\n  a new just-in-time template literals compiler that targets DOM nodes on the client and string interpolations on the server.\n\n  The result is a natural, fast, compact and easy way to create Web apps, offering a solution for your project views.\n  It plays well with both vanilla JS and frameworks, and it's widely compatible for boh browsers and servers.\n</p>\n<p>\n  This app is designed to test viperHTML's ideas and see if there are any essential features that we're missing,\n  and to act as an example for people looking to build their own viperHTML based apps.\n  You can see the <a href='https://github.com/WebReflection/viper-news'>source code</a>.\n</p>"],["\n<h1>About this site</h1>\n<p>\n  Hacker News clones are the new TodoMVC.\n  <a href=\"https://svelte-hn.now.sh/\">Svelte</a> has one,\n  and most you can see here has been forked from it,\n  <a href='https://vue-hn.now.sh'>Vue</a> has one,\n  <a href='https://next-news.now.sh'>Next</a> has one,\n  <a href='https://react-hn.appspot.com'>React</a> and\n  <a href='https://preact-hn.appspot.com'>Preact</a> have theirs.\n  And now, <strong>viperHTML</strong> has one.\n</p>\n<p>\n  <a href=\"https://github.com/WebReflection/viperHTML\">viperHTML</a> is the isomorphic version of <a href=\"https://github.com/WebReflection/hyperHTML\">hyperHTML</a>,\n  a new just-in-time template literals compiler that targets DOM nodes on the client and string interpolations on the server.\n\n  The result is a natural, fast, compact and easy way to create Web apps, offering a solution for your project views.\n  It plays well with both vanilla JS and frameworks, and it's widely compatible for boh browsers and servers.\n</p>\n<p>\n  This app is designed to test viperHTML's ideas and see if there are any essential features that we're missing,\n  and to act as an example for people looking to build their own viperHTML based apps.\n  You can see the <a href='https://github.com/WebReflection/viper-news'>source code</a>.\n</p>"]),_templateObject4=_taggedTemplateLiteral(["\n<article class='comment'>\n  <span class='meta'><a href='","'> "," </a> "," ago</span>\n  <div class='body'>\n    <p>","</p>\n  </div>\n  <ul class='","'>","</ul>\n</article>"],["\n<article class='comment'>\n  <span class='meta'><a href='","'> "," </a> "," ago</span>\n  <div class='body'>\n    <p>","</p>\n  </div>\n  <ul class='","'>","</ul>\n</article>"]),_templateObject5=_taggedTemplateLiteral(['\n<article class="item">\n  <a class="main-link" href="','">\n    ',"\n    <small> ",' </small>\n  </a>\n  <p class="meta">\n    ',' points by <a href="','"> '," </a> "," ago\n  </p>\n</article>\n<h3>\n  ","\n</h3>\n<div class='comments'>","</div>"],['\n<article class="item">\n  <a class="main-link" href="','">\n    ',"\n    <small> ",' </small>\n  </a>\n  <p class="meta">\n    ',' points by <a href="','"> '," </a> "," ago\n  </p>\n</article>\n<h3>\n  ","\n</h3>\n<div class='comments'>","</div>"]),_templateObject6=_taggedTemplateLiteral(["\n<a class='more' href='","'>More...</a>"],["\n<a class='more' href='","'>More...</a>"]),_templateObject7=_taggedTemplateLiteral(["\n<article>\n  <h2>\n    <a href='","'>\n      ","\n      <small> "," </small>\n    </a>\n  </h2>\n  <p>\n    "," points by <a href='","'> "," </a>","</p>\n  <span class='index'>\n    ","\n  </span>\n</article>"],["\n<article>\n  <h2>\n    <a href='","'>\n      ","\n      <small> "," </small>\n    </a>\n  </h2>\n  <p>\n    "," points by <a href='","'> "," </a>","</p>\n  <span class='index'>\n    ","\n  </span>\n</article>"]),_templateObject8=_taggedTemplateLiteral(["\n<h1> "," </h1>\n<p>...joined <strong> "," </strong>, and has <strong> ",' </strong> karma</p>\n<p>\n  <a href="','"> submissions </a> /\n  <a href="','"> comments </a> /\n  <a href="','"> favourites </a>\n</p>\n<div class="','">\n  <p>',"</p>\n</div>"],["\n<h1> "," </h1>\n<p>...joined <strong> "," </strong>, and has <strong> ",' </strong> karma</p>\n<p>\n  <a href="','"> submissions </a> /\n  <a href="','"> comments </a> /\n  <a href="','"> favourites </a>\n</p>\n<div class="','">\n  <p>',"</p>\n</div>"]);!function e(n,t,r){function a(o,s){if(!t[o]){if(!n[o]){var c="function"==typeof require&&require;if(!s&&c)return c(o,!0);if(i)return i(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var p=t[o]={exports:{}};n[o][0].call(p.exports,function(e){var t=n[o][1][e];return a(t||e)},p,p.exports,e,n,t,r)}return t[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)a(r[o]);return a}({1:[function(e,n,t){var r="viperHTML 🐍 Hacker News",a=e("viperhtml"),i=e("./render"),o=function(){var e=document.querySelector("main");if(/^\/user\/([^?#]+)/.test(location.pathname)){var n=s=RegExp.$1;e.classList.add("opaque"),i.header("user"),fetch(location.pathname+".json").then(function(e){return e.json()}).then(function(t){n===s&&(document.title="Profile: "+t.id+" | "+r,i.main(i.user(t)),scrollTo(0,0),e.classList.remove("opaque"))})}else if(/^\/item\/(\d+)/.test(location.pathname)){var t=s=RegExp.$1;e.classList.add("opaque"),fetch(location.pathname+".json").then(function(e){return e.json()}).then(function(n){t===s&&(document.title=n.title,n.comments=n.comments.filter(c).map(l),i.main(i.item(n)),scrollTo(0,0),e.classList.remove("opaque"))})}else if(/^\/([a-z]+)(\/\d+)?$/.test(location.pathname)){var a=s=RegExp.$1;switch(e.classList.add("opaque"),i.header(a),a){case"about":setTimeout(function(){a===s&&(i.about([]),scrollTo(0,0),e.classList.remove("opaque"))},300);break;default:fetch(location.pathname+".json").then(function(e){return e.json()}).then(function(n){a===s&&(document.title=r,i.main(n.items.map(i.summary).concat(n.next?i.next(n):[])),scrollTo(0,0),e.classList.remove("opaque"))})}}},s=void 0,c=function(e){return!e.deleted},l=function e(n){return n.comments=(n.comments||[]).filter(c).map(e),i.comment(n)};e("onpushstate"),addEventListener("pushstate",o),addEventListener("popstate",o),addEventListener("load",function(){"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js").then(function(){var e=document.createDocumentFragment();a.wire()(_templateObject).forEach(function(n){return e.appendChild(n)}),document.head.appendChild(e)})},{once:!0})},{"./render":2,onpushstate:5,viperhtml:6}],2:[function(e,n,t){var r=e("viperhtml"),a={about:e("../../shared/view/about"),summary:e("../../shared/view/summary"),item:e("../../shared/view/item"),comment:e("../../shared/view/comment"),user:e("../../shared/view/user"),next:e("../../shared/view/next")},i={main:r.bind(document.querySelector("main")),user:r.wire(),next:r.wire()};n.exports={main:function(e){return i.main(_templateObject2,e)},item:function(e){return a.item(r.wire(e),e)},comment:function(e){return a.comment(r.wire(e),e)},about:function(e){return a.about(i.main,e)},summary:function(e){return a.summary(r.wire(e),e)},header:function(e){return[].forEach.call(document.querySelectorAll("header a"),function(n){n.classList[~n.getAttribute("href").indexOf("/"+e)?"add":"remove"]("selected")})},user:function(e){return a.user(i.user,e)},next:function(e){return a.next(i.next,e)}}},{"../../shared/view/about":8,"../../shared/view/comment":9,"../../shared/view/item":10,"../../shared/view/next":11,"../../shared/view/summary":12,"../../shared/view/user":13,viperhtml:6}],3:[function(e,n,t){var r=function(e){var n={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},t={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"'},r=function(e){return n[e]},a=function(e){return t[e]},i="".replace;return(e.freeze||e)({escape:function(e){return i.call(e,/[&<>'"]/g,r)},unescape:function(e){return i.call(e,/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34);/g,a)}})}(Object);try{n.exports=r}catch(e){}},{}],4:[function(e,n,t){var r=function(){function e(e){return x in this&&this[x].s===e?v.apply(this,arguments):y.apply(this,arguments)}function n(e,n){for(var t,r=j?T:k,i=M.call(e.attributes),o=0,s=i.length;o<s;o++)t=i[o],t.value===r&&n.push(a(e,j?e.getAttributeNode(b.shift()):t))}function t(e,a){for(var s,c,l=M.call(e.childNodes),p=l.length,u=0;u<p;u++)switch(s=l[u],s.nodeType){case 1:n(s,a),t(s,a);break;case 8:s.textContent===T&&(1===p?(a.push(r(e)),e.removeChild(s)):!(u<1||1===l[u-1].nodeType)||u+1!==p&&1!==l[u+1].nodeType?(c=e.ownerDocument.createTextNode(""),a.push(o(c)),e.replaceChild(c,s)):a.push(i(s)))}}function r(e){return function n(t){switch(void 0===t?"undefined":_typeof(t)){case"string":e.innerHTML=t;break;case"number":case"boolean":e.textContent=t;break;default:if(Array.isArray(t))if(1===t.length)n(t[0]);else if("string"==typeof t[0])n(t.join(""));else{var r=c(e.childNodes,t);-1<r&&m(e,t,r)}else p(e,t)}}}function a(e,n){var t=n.name,r=w.test(t);return r&&e.removeAttribute(t),r?function(n){e[t]=n}:function(e){n.value=e}}function i(e){var n=document.createDocumentFragment(),t=[];return function r(a){var i,o=e.parentNode;switch(void 0===a?"undefined":_typeof(a)){case"string":case"number":case"boolean":u(t,0),l(n,a),t=M.call(n.childNodes),o.insertBefore(n,e);break;default:Array.isArray(a)?0===a.length?r(a[0]):"string"==typeof a[0]?r(a.join("")):-1<(i=c(t,a))&&(u(t,i),a=a.slice(i),s(n,a),o.insertBefore(n,e),t.push.apply(t,a)):(u(t,0),t=11===a.nodeType?M.call(a.childNodes):[a],o.insertBefore(a,e))}}}function o(e){return function(n){e.textContent=n}}function s(e,n){for(var t=0,r=n.length;t<r;t++)e.appendChild(n[t])}function c(e,n){if(e===n)return-1;for(var t=0,r=e.length,a=n.length;t<r;){if(!(t<a&&e[t]===n[t]))return t;t++}return t===a?-1:t}function l(e,n){var t=j&&/^[^\S]*?<(t(?:head|body|foot|r|d|h))/i.test(n),r=e.ownerDocument.createElement("template");r.innerHTML=t?"<table>"+n+"</table>":n,t&&(r={childNodes:r.querySelectorAll(RegExp.$1)}),s(e,M.call((r.content||r).childNodes))}function p(e,n){switch(n.nodeType){case 1:var t=e.childNodes;1===t.length&&t[0]===n||h(e,n);break;case 11:-1<c(e.childNodes,n.childNodes)&&h(e,n);break;case 3:e.textContent=n.textContent}}function u(e,n){for(var t,r=e.length;n<r--;)t=e[r],t.parentNode.removeChild(t)}function h(e,n){e.textContent="",e.appendChild(n)}function f(e){for(var n,t=[],r=e.childNodes,a=0,i=r.length;a<i;a++)n=r[a],(1===n.nodeType||0<z.call(n.textContent).length)&&t.push(n);return i=t.length,i<2?(n=i<1?e:t[0],function(){return n}):function(){return t}}function m(e,n,t){var r=e.ownerDocument.createDocumentFragment();0<t?(u(e.childNodes,t),s(r,n.slice(t)),e.appendChild(r)):(s(r,n),h(e,r))}function d(){var n,t,r,a,i;return function(o){return i!==o&&(a=!0,i=o,t=document.createDocumentFragment(),r=e.bind(t)),r.apply(null,arguments),a&&(a=!1,n=f(t)),n()}}function g(e){return S.get(e)||(S.set(e,d()),g(e))}function v(){for(var e=1,n=arguments.length,t=this[x].u;e<n;e++)t[e-1](arguments[e]);return this}function y(e){var n=[],r=e.join(k);return j?(b=[],l(this,r.replace(L,_))):1===this.nodeType?this.innerHTML=r:l(this,r),t(this,n),this[x]={s:e,u:n},v.apply(this,arguments)}e.wire=function(e){return arguments.length<1?d():g(e)};var b,w=/^(?:on[a-z]+|async|autofocus|autoplay|capture|checked|controls|deferred|disabled|formnovalidate|hidden|loop|multiple|muted|required)$/,x="_hyper_html: ",T=x+(Math.random()*new Date|0)+";",k="<!--"+T+"-->",j="documentMode"in document,L=j&&new RegExp("([^\\S][a-z]+[a-z0-9_-]*=)(['\"])"+k+"\\2","g"),_=j&&function(e,n,t){return b.push(n.slice(1,-1)),n+t+T+t},z=x.trim||function(){return this.replace(/^\s+|\s+$/g,"")},M=[].slice,S=("undefined"==typeof WeakMap?"undefined":_typeof(WeakMap))===(void 0===S?"undefined":_typeof(S))?{get:function(e){return e[x]},set:function(e,n){Object.defineProperty(e,x,{configurable:!0,value:n})}}:new WeakMap;return e.SPECIAL_ATTRIBUTE=w,e}();try{n.exports=r}catch(e){}},{}],5:[function(e,n,t){document.addEventListener("click",function(e){var n=e.target.closest("a");if(n&&/^(?:_self)?$/i.test(n.target)&&!n.hasAttribute("download")&&"external"!==n.getAttribute("rel")){var t=new URL(n.href),r=location;if(t.origin===r.origin){var a=t.pathname+t.search,i=t.hash,o=!0;if(e.preventDefault(),a===r.pathname+r.search){if(/^#[a-z][a-z0-9.:_-]+$/i.test(i)){var s=document.querySelector(i+',[name="'+i.slice(1)+'"]');s&&(e.preventDefault=function(){o=!1},setTimeout(function(){o&&s.scrollIntoView(!0)}))}history.replaceState(history.state,document.title,a+i)}else{var c=new CustomEvent("pushstate");c.state=r.href,setTimeout(function(){dispatchEvent(c),window.onpushstate&&onpushstate(c)}),history.pushState(c.state,document.title,a+i)}}}},!0)},{}],6:[function(e,n,t){n.exports=e("object"===("undefined"==typeof document?"undefined":_typeof(document))?"hyperhtml":"./viperhtml.js")},{"./viperhtml.js":7,hyperhtml:4}],7:[function(e,n,t){(function(t){function r(e){var n=L.get(this);return n&&n.s===e?(M(this)?this.update:f).apply(n,arguments):m.apply(this,arguments)}function a(e,n){return g.test(e.slice(0,n).join(""))&&v.test(e.slice(n).join(""))}function i(e,n){return">"===e[n-1].slice(-1)&&"<"===e[n][0]}function o(){var e,n=new d,t=r.bind(n);return n.update=function(){return this.a=e,h.apply(this,arguments)},function(n){return e=n||String,t}}function s(e,n){var t=e[n-1].replace(y,"$1");return T.test(t)?b.test(t)?u():p(t,e,n):z}function c(e){return M(e)?function(e){return e}:l}function l(e){return S(e)?e.join(""):e}function p(e,n,t){return n[t-1]=n[t-1].slice(0,-(e.length+3)),n[t]=n[t].slice(1),e=" "+e,function(n){return n?e:""}}function u(){return function(e){return"function"==typeof e?"return ("+z(w.test(e)&&!x.test(e)?"function "+e:""+e)+").call(this, event)":e||""}}function h(){for(var e,n=[],t=this.a,r=this.c,a=this.u,i=Promise.resolve(r[0]),o=function(e){return i.then(function(n){return s(n),e})},s=function(e){n.push(e),t(e)},c=1,p=arguments.length;c<p;c++)e=a[c-1],function n(t){S(t)?t.forEach(n):i=o(Promise.resolve(t).then(l).then(e))}(arguments[c]),i=o(r[c]);return i.then(s).then(function(){return n})}function f(){for(var e=this.c,n=this.u,t=[e[0]],r=1,a=arguments.length;r<a;r++)t[r]=n[r-1](arguments[r])+e[r];return t.join("")}function m(e){for(var n=[],t=n.slice.call(e),o={s:e,u:n,c:t},l=1,p=e.length;l<p;l++)n[l-1]=i(e,l)?c(this):a(t,l)?s(t,l):z;return L.set(this,o),r.apply(this,arguments)}function d(){}r.wire=function e(n){return arguments.length<1?r.bind({}):_.get(n)||(_.set(n,e()),e(n))},r.async=function e(n){return arguments.length<1?o():j.get(n)||(j.set(n,e()),e(n))},t.document={};var g=/<[a-z]\S*[^\S]+(?:[a-z-]+(?:=(?:(["'])[^\1]*?\1|[^"'\s]+))?[^\S]+)*?[a-z-]+=["']$/i,v=/^"(?:[^\S]+[a-z-]+(?:=(?:(["'])[^\1]*?\1|[^"'\s]+))?)*?[^\S]*>/i,y=/^[\s\S]*?([a-z-]+)="$/i,b=/^on[a-z]+$/,w=/^[a-z$_]\S*?\(/,x=/^function\S*?\(/,T=e("hyperhtml").SPECIAL_ATTRIBUTE,k=e("html-escaper").escape,j=new WeakMap,L=new WeakMap,_=new WeakMap,z=function(e){return k(String(e))},M=function(e){return e instanceof d},S=Array.isArray;delete t.document,r.SPECIAL_ATTRIBUTE=T,n.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"html-escaper":3,hyperhtml:4}],8:[function(e,n,t){n.exports=function(e,n){return e(_templateObject3)}},{}],9:[function(e,n,t){n.exports=function(e,n){return e(_templateObject4,"/user/"+n.by,n.by,n.timeBetween,n.text,n.comments.length?"children":"hidden",n.comments)}},{}],10:[function(e,n,t){n.exports=function(e,n){return e(_templateObject5,n.url,n.title,n.hostname?"("+n.hostname.replace(/^www\./,"")+")":"",n.score,"/user/"+n.by,n.by,n.timeBetween,n.descendants?n.descendants+" comments":"No comments yet",n.comments)}},{}],11:[function(e,n,t){n.exports=function(e,n){return e(_templateObject6,n.next)}},{}],12:[function(e,n,t){n.exports=function(e,n){return e(_templateObject7,n.url?n.url:"/item/"+n.id,n.title,n.hostname?"("+n.hostname.replace(/^www\./,"")+")":"",n.score,"/user/"+n.by,n.by,n.timeBetween+" ago | <a href='/item/"+n.id+"'>"+(n.descendants||0)+" comments</a>",n.index)}},{}],13:[function(e,n,t){n.exports=function(e,n){return e(_templateObject8,n.id,n.ago,n.karma,"https://news.ycombinator.com/submitted?id="+n.id,"https://news.ycombinator.com/threads?id="+n.id,"https://news.ycombinator.com/favorites?id="+n.id,"about"+(n.about?"":" hidden"),n.about||"")}},{}]},{},[1]);